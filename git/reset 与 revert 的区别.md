## 一、基本概念理解

### 🔹 `git reset`

> 用于**撤销提交或更改当前分支的指针位置**，可以影响工作区和暂存区。

- 会改变提交历史（⚠️ 可能导致数据丢失，慎用于共享分支）
- 根据参数分为：
  - `--soft`：仅回退 HEAD，保留暂存区和工作区的改动
  - `--mixed`（默认）：回退 HEAD 和暂存区，保留工作区
  - `--hard`：全都回退（⚠️ 丢失所有修改）

示例：

```
bash

git reset --hard HEAD~1   # 删除最近一次提交
```

------

### 🔹 `git revert`

> 用于**撤销某次历史提交的影响**，但不是删除记录，而是**生成一个新的“反向提交”**。

- 保留原提交历史，不会破坏日志（安全）
- 适合用于团队协作、远程分支

示例：

```
bash

git revert abc1234   # 撤销某个历史提交（会生成一个新的 commit）
```

------

## ✅ 二、关键区别总结（表格）

| 特性对比           | `git reset`                              | `git revert`                              |
| ------------------ | ---------------------------------------- | ----------------------------------------- |
| 是否保留历史提交   | ❌ 不保留，直接回退提交（可能丢失历史）   | ✅ 保留历史，创建新的“反向”提交            |
| 是否适合共享分支   | ❌ 不适合（会重写历史，别人 pull 会冲突） | ✅ 安全，适用于协作和远程分支              |
| 常用于场景         | 本地修错、取消提交、修改提交内容         | 回滚线上错误提交，撤销已合并提交          |
| 是否能回退多个提交 | ✅ 可 `reset HEAD~n` 回退多次提交         | ✅ 多次 `revert` 或批量 `revert`（较繁琐） |



------

## ✅ 三、举个场景说明（加分）

> 如果你提交了一个功能，但是上线后出现 bug：

- **在本地开发分支**，你可以使用 `git reset --hard` 回退提交直接改。
- **在主分支（已推送）**，更推荐 `git revert`，这样不会破坏别人基于该提交的代码。

------

## ✅ 四、一句话总结（面试收尾）：

> 简单来说：
>  `git reset` 是修改历史、回到过去，**适合本地修错**；
>  `git revert` 是记录反悔、一步步纠错，**适合团队协作和线上修复**。